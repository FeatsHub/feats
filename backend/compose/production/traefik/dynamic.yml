http:
  routers:
    api-router:
      rule: Host(`api.feats-app.com`)
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt
      service: api-service

    dashboard-router:
      rule: Host(`dashboard.feats-app.com`)
      entryPoints:
        - websecure
      tls:
        certResolver: letsencrypt
      service: dashboard-service
      middlewares:
        - dashboard-auth


  services:
    api-service:
      loadBalancer:
        servers:
          - url: "http://api:8000"

    dashboard-service:
      loadBalancer:
        servers:
          - url: "http://traefik"


  middlewares:
    dashboard-auth:
      basicAuth:
        users:
          - "admin:$$apr1$$laLZLYtc$$/v2XNK/nXb/9dT7qet7P5/"
