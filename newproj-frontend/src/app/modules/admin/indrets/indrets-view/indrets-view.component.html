<ng-template #loading>
    <app-fake-loading *ngIf="!(this.indret$ | async)" [type]="'simple-form'"></app-fake-loading>
</ng-template>

<div *ngIf="(this.indret$ | async); else loading" class="w-full" style="height: 100%;">

    <div fxLayout="row" class="mb-2" fxLayoutAlign="end center" fxLayoutGap="20px">
        <button mat-icon-button (click)="goBack()" title="Tornar">
            <mat-icon aria-label="Tornar">arrow_back</mat-icon>
        </button>
        <button
            mat-icon-button
            *ifAllowed="'indret.update'"
            [routerLink]="'/indrets/' + indret.id + '/edit'"
        >
            <mat-icon
                class="secondary-text"
                title="Edit"
                aria-label="Edit"
                >edit</mat-icon
            >
        </button>
    </div>


    <mat-tab-group mat-stretch-tabs="false" style="height: 100%" mat-align-tabs="center">
        <mat-tab label="General" style="height: 100%">
            <ng-template mat-tab-label>
                General
            </ng-template>
            In progress
        </mat-tab>
        <mat-tab label="Titulars" style="height: 100%">
            <ng-template mat-tab-label>
                Titulars
            </ng-template>
            In progress
        </mat-tab>
        <mat-tab label="Contacte" style="height: 100%">
            <ng-template mat-tab-label>
                Contacte
            </ng-template>
            In progress
        </mat-tab>
        <mat-tab label="Documents">
            <ng-template mat-tab-label>
                Documents
            </ng-template>
            In progress
        </mat-tab>
        <mat-tab label="Circuits" style="height: 100%;">
            <ng-template mat-tab-label>
                Circuits
            </ng-template>
            In progress
        </mat-tab>
        <mat-tab label="Actuacions" style="height: 100%;">
            <ng-template mat-tab-label>
                Actuacions
            </ng-template>
            <div class="actions" fxFlex="100">
                <button [routerLink]="['/actions/new/'+ indret.id]" *ifAllowed="'indret.create'"
                        mat-raised-button color="accent" id="create_new">
                    <mat-icon aria-label="nou indret">add</mat-icon>
                    Crear
                </button>
            </div>
            <app-actions-table [indret]="indret.id"></app-actions-table>
        </mat-tab>
        
    </mat-tab-group>
</div>